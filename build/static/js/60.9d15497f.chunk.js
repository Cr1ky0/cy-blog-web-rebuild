"use strict";(self.webpackChunkfront_end=self.webpackChunkfront_end||[]).push([[60],{28582:function(e,n,r){r.d(n,{Z:function(){return _}});var a=r(29439),t=r(72791),s="ChangeFormBox_dark__tF0OS",i="ChangeFormBox_light__n19nI",o="ChangeFormBox_mainInput__sT81w",c="ChangeFormBox_otherInput__FN6SY",l="ChangeFormBox_wrapper__Tf57G",u="ChangeFormBox_title__1FNYT",d="ChangeFormBox_form__N39Jo",h=r(87309),f=r(80635),p=r(44871),x=r(80184),m=(0,t.forwardRef)((function(e,n){var r=(0,p.CG)((function(e){return e.universal.themeMode})),m=e.placeHolder,_=e.title,v=e.isOpen,g=e.children,w=e.handleClose,Z=e.handleSubmit,k=e.type,C=e.seq,j=e.name,y=e.isLoading,b=e.single,I=e.okText,N=(0,t.useState)(!1),A=(0,a.Z)(N,2),S=A[0],F=A[1],L={color:f.l1,borderColor:f.l1};return(0,x.jsxs)("div",{className:l,style:{border:v[C]?"light"===r?"1px solid rgba(0,0,0,.2)":"1px solid rgba(255,255,255,.2)":"1px solid transparent"},children:[(0,x.jsx)("div",{className:u,children:_}),(0,x.jsxs)("div",{className:"".concat(d," ").concat("dark"===r?s:i),children:[(0,x.jsxs)("div",{className:o,onClick:function(){w&&w(!0,v,C)},children:[(0,x.jsx)("input",{type:k,name:j,ref:n,onFocus:function(e){F(!0),"password"===k&&(e.currentTarget.placeholder="\u5f53\u524d\u5bc6\u7801")},onBlur:function(e){F(!1),"password"===k&&(e.currentTarget.placeholder="********")},placeholder:m}),(0,x.jsx)("div",{className:"iconfont",style:S?L:void 0,children:"\ue601"})]}),(0,x.jsxs)("div",{id:"change-form-box-anime-".concat(C),className:c,style:{height:b?"70px":void 0},children:[g,(0,x.jsxs)("div",{style:{marginBottom:"15px"},children:[(0,x.jsx)(h.ZP,{type:"primary",style:{marginRight:"10px"},onClick:Z,loading:y,children:I||"\u786e\u5b9a"}),b?void 0:(0,x.jsx)(h.ZP,{onClick:function(){w&&w(!1,v,C)},children:"\u53d6\u6d88"})]})]})]})]})}));m.displayName="ChangeFormBox";var _=m},82545:function(e,n,r){r.d(n,{Z:function(){return i}});r(72791);var a="LinkBtn2_wrapper__NAEez",t=r(44871),s=r(80184),i=function(e){var n=e.children,r=e.className,i=e.onClick,o=e.styles,c=(0,t.CG)((function(e){return e.universal.themeMode}));return(0,s.jsx)("div",{className:"".concat(a," ").concat(r,"  ").concat("dark"===c?"dark-font":"light-font"),onClick:i,style:o,children:n})}},90060:function(e,n,r){r.r(n),r.d(n,{default:function(){return L}});var a=r(72791),t="EditInfo_wrapper__t+mEo",s=r(44871),i=r(71249),o=r(74165),c=r(15861),l=r(4942),u=r(29439),d=r(57689),h=r(98190),f={dark:"ChangeInfo_dark__kHSJ9","dark-2":"ChangeInfo_dark-2__zi1eb","dark-3":"ChangeInfo_dark-3__L-eH9","dark-3-onforce":"ChangeInfo_dark-3-onforce__WrOwd",light:"ChangeInfo_light__lnuGO","light-1":"ChangeInfo_light-1__rt+Jw","dark-font":"ChangeInfo_dark-font__d6Nem","dark-back-2-onforce-no-trans":"ChangeInfo_dark-back-2-onforce-no-trans__bld4m",hoverDark:"ChangeInfo_hoverDark__tT1ua",hoverLight:"ChangeInfo_hoverLight__KRav4","light-font":"ChangeInfo_light-font__Tgyh0",mark:"ChangeInfo_mark__6-0FH",transBase:"ChangeInfo_transBase__AAtgA",transHide:"ChangeInfo_transHide__-pU1L",showAnime:"ChangeInfo_showAnime__GP6lA",hideAnime:"ChangeInfo_hideAnime__MTF3e","show-anime-delay-1s":"ChangeInfo_show-anime-delay-1s__+vw38","show-anime-no-delay":"ChangeInfo_show-anime-no-delay__kiMDY",wrapper:"ChangeInfo_wrapper__yDCUd",title:"ChangeInfo_title__AcLuR"},p=r(28582),x="UploadAvatar_wrapper__GLq95",m="UploadAvatar_uploadBox__F5hDj",_="UploadAvatar_btn__WVNVj",v=r(79286),g=r(38420),w=r(55518),Z=r(11990),k=r(87309),C=r(20367),j=r(41279),y=r(51680),b=r(80184),I=function(){var e=(0,a.useState)(!1),n=(0,u.Z)(e,2),r=n[0],t=n[1],s=(0,a.useState)(""),i=(0,u.Z)(s,2),l=i[0],f=i[1],p=(0,a.useState)(!1),I=(0,u.Z)(p,2),N=I[0],A=I[1],S=(0,j.z)(),F=(0,d.s0)(),L=(new h.Z).get("user"),B=(0,C.F)(),R=(0,a.useState)([{uid:"-1",name:"".concat(L.avatar),status:"done",url:B}]),T=(0,u.Z)(R,2),H=T[0],O=T[1],P=function(){var e=(0,c.Z)((0,o.Z)().mark((function e(n){var r;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.url){e.next=5;break}return e.next=4,new Promise((function(e){var r=new FileReader;r.readAsDataURL(n.originFileObj),r.onload=function(){return e(r.result)}}));case 4:r=e.sent;case 5:n.url||n.preview||(n.preview=r),f(n.url||n.preview),t(!0);case 8:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),U=(0,b.jsxs)("div",{children:[(0,b.jsx)(v.Z,{}),(0,b.jsx)("div",{style:{marginTop:8},children:"Upload"})]}),E=function(){var e=(0,c.Z)((0,o.Z)().mark((function e(){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(A(!0),H[0].name!==L.avatar){e.next=5;break}return S.error("\u8bf7\u4e0a\u4f20\u65b0\u7684\u56fe\u7247\uff01"),A(!1),e.abrupt("return");case 5:return e.next=7,(0,y.X8)({avatar:H[0].thumbUrl},(0,c.Z)((0,o.Z)().mark((function e(){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.loadingSuccessAsync("\u4e0a\u4f20\u4e2d...","\u4e0a\u4f20\u6210\u529f\uff01");case 2:F(0),A(!1);case 4:case"end":return e.stop()}}),e)}))),(function(){S.error("\u4e0a\u4f20\u5931\u8d25\u8bf7\u91cd\u65b0\u518d\u8bd5\uff01"),A(!1)}));case 7:A(!1);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,b.jsxs)("div",{className:x,children:[(0,b.jsxs)("div",{className:m,children:[(0,b.jsx)(g.Z,{rotationSlider:!0,children:(0,b.jsx)(w.Z,{action:"/",listType:"picture-card",fileList:H,onPreview:P,onChange:function(e){var n=e.fileList;return O(n)},children:H.length>=1?null:U})}),(0,b.jsx)(Z.Z,{open:r,title:"PhotoPreview",footer:null,onCancel:function(){return t(!1)},children:(0,b.jsx)("img",{alt:"example",style:{width:"100%"},src:l})})]}),(0,b.jsx)("div",{className:_,children:(0,b.jsx)(k.ZP,{onClick:E,loading:N,children:"\u63d0\u4ea4"})})]})},N=r(82545),A=r(36046),S=r.n(A),F=function(){var e=(0,a.useState)([!1,!1,!1,!1]),n=(0,u.Z)(e,2),r=n[0],t=n[1],s=(0,a.useState)(!1),i=(0,u.Z)(s,2),x=i[0],m=i[1],_=new h.Z,v=_.get("user"),g=(0,j.z)(),w=(0,d.s0)(),Z=(0,a.useRef)(null),k=(0,a.useRef)(null),C=(0,a.useRef)(null),A=(0,a.useRef)(null),F=(0,a.useRef)(null),L=(0,a.useRef)(null),B=(0,a.useRef)(null),R=(0,a.useCallback)((function(e,n,r){for(var a=[],s=0;s<n.length;s+=1){var i=document.getElementById("change-form-box-anime-"+s);s===r?(a.push(e),i.style.height=e?i.scrollHeight+"px":"0"):(a.push(!1),i.style.height="0")}t(a)}),[]),T=(0,a.useCallback)((function(e,n,r){var a,t,s=e.current;return n&&(a=n.current),r&&(t=r.current),Object.assign((0,l.Z)({},s.name,s.value),a?(0,l.Z)({},a.name,a.value):void 0,t?(0,l.Z)({},t.name,t.value):void 0)}),[]),H=(0,a.useCallback)((0,c.Z)((0,o.Z)().mark((function e(){var n;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(!0),n=T(Z,k,C),e.next=4,(0,y.A4)(n,(0,c.Z)((0,o.Z)().mark((function e(){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.loadingSuccessAsync("\u4fee\u6539\u4e2d...","\u4fee\u6539\u6210\u529f, \u8bf7\u91cd\u65b0\u767b\u5f55!");case 2:m(!1),_.remove("token"),_.remove("user"),w(0);case 6:case"end":return e.stop()}}),e)}))),(function(e){g.error(e),m(!1)}));case 4:case"end":return e.stop()}}),e)}))),[]),O=(0,a.useCallback)((0,c.Z)((0,o.Z)().mark((function e(){var n;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=A.current,S()(n.value)){e.next=4;break}return g.error("\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u90ae\u7bb1\uff01"),e.abrupt("return");case 4:return e.next=6,(0,y.Ln)();case 6:n.disabled=!0,g.success("\u9a8c\u8bc1\u7801\u5df2\u53d1\u9001\u5230\u539f\u90ae\u7bb1\uff0c\u8bf7\u524d\u5f80\u90ae\u7bb1\u67e5\u770b\uff01");case 8:case"end":return e.stop()}}),e)}))),[]),P=(0,a.useCallback)((0,c.Z)((0,o.Z)().mark((function e(){var n;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(m(!0),n=T(A,F),S()(n.newEmail)){e.next=6;break}return g.error("\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u90ae\u7bb1!"),m(!1),e.abrupt("return");case 6:return e.next=8,(0,y.ss)(n,(0,c.Z)((0,o.Z)().mark((function e(){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.loadingAsync("\u53d1\u9001\u94fe\u63a5\u81f3\u65b0\u90ae\u7bb1\u5f53\u4e2d...","\u94fe\u63a5\u5df2\u53d1\u9001\u81f3\u65b0\u90ae\u7bb1\uff0c\u8bf7\u524d\u5f80\u9a8c\u8bc1");case 2:m(!1);case 3:case"end":return e.stop()}}),e)}))),(function(e){g.error(e),m(!1)}));case 8:case"end":return e.stop()}}),e)}))),[]),U=(0,a.useCallback)((0,c.Z)((0,o.Z)().mark((function e(){var n;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(!0),n=T(L),e.next=4,(0,y.X8)(n,(0,c.Z)((0,o.Z)().mark((function e(){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,y.Yd)();case 2:return e.next=4,g.loadingSuccessAsync("\u66f4\u65b0\u4e2d","\u66f4\u65b0\u6210\u529f!");case 4:w(0),m(!1);case 6:case"end":return e.stop()}}),e)}))),(function(e){g.error(e),m(!1)}));case 4:case"end":return e.stop()}}),e)}))),[]),E=(0,a.useCallback)((0,c.Z)((0,o.Z)().mark((function e(){var n;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(!0),n=T(B),e.next=4,(0,y.X8)(n,(0,c.Z)((0,o.Z)().mark((function e(){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.loadingSuccessAsync("\u66f4\u65b0\u4e2d","\u66f4\u65b0\u6210\u529f!");case 2:return e.next=4,(0,y.Yd)();case 4:w(0),m(!1);case 6:case"end":return e.stop()}}),e)}))),(function(e){g.error(e),m(!1)}));case 4:case"end":return e.stop()}}),e)}))),[]);return(0,b.jsx)(b.Fragment,{children:v?(0,b.jsxs)("div",{className:f.wrapper,children:[(0,b.jsxs)("div",{className:f.accountSecurity,children:[(0,b.jsxs)("div",{className:f.title,children:[(0,b.jsx)("div",{}),(0,b.jsx)("div",{children:"\u8d26\u6237\u4e0e\u5b89\u5168"})]}),(0,b.jsxs)(p.Z,{name:"oldPassword",title:"\u5bc6\u7801",placeHolder:"********",isOpen:r,handleClose:R,handleSubmit:H,isLoading:x,type:"password",seq:0,ref:Z,children:[(0,b.jsx)("div",{children:(0,b.jsx)("input",{type:"password",placeholder:"\u65b0\u5bc6\u7801",name:"password",ref:k})}),(0,b.jsx)("div",{children:(0,b.jsx)("input",{type:"password",placeholder:"\u786e\u8ba4\u5bc6\u7801",name:"passwordConfirm",ref:C})})]}),(0,b.jsx)(p.Z,{title:"\u90ae\u7bb1",placeHolder:v.email,isOpen:r,handleClose:R,isLoading:x,handleSubmit:P,type:"text",seq:1,name:"newEmail",ref:A,children:(0,b.jsxs)("div",{children:[(0,b.jsx)("input",{type:"text",placeholder:"\u9a8c\u8bc1\u7801",name:"code",ref:F}),(0,b.jsx)(N.Z,{styles:{width:"110px"},onClick:O,children:"\u83b7\u53d6\u9a8c\u8bc1\u7801"})]})})]}),(0,b.jsxs)("div",{className:f.selfInfo,children:[(0,b.jsxs)("div",{className:f.title,children:[(0,b.jsx)("div",{}),(0,b.jsx)("div",{children:"\u4e2a\u4eba\u4fe1\u606f"})]}),(0,b.jsx)(p.Z,{title:"\u6635\u79f0",placeHolder:v.name,isOpen:r,handleClose:R,ref:L,isLoading:x,handleSubmit:U,type:"text",name:"name",seq:2}),(0,b.jsx)(p.Z,{title:"\u4e2a\u4eba\u7b80\u4ecb",placeHolder:v.brief,isOpen:r,isLoading:x,handleClose:R,handleSubmit:E,ref:B,type:"text",name:"brief",seq:3})]}),(0,b.jsxs)("div",{className:f.uploadAvatar,children:[(0,b.jsxs)("div",{className:f.title,children:[(0,b.jsx)("div",{}),(0,b.jsx)("div",{children:"\u5934\u50cf"})]}),(0,b.jsx)(I,{})]})]}):void 0})},L=function(){var e=(0,s.TL)();return(0,a.useEffect)((function(){e((0,i.Y)("info"))}),[]),(0,b.jsx)("div",{className:t,children:(0,b.jsx)(F,{})})}}}]);
//# sourceMappingURL=60.9d15497f.chunk.js.map